<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Ganancias Argentina 2026</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Calculadora Impuesto a las Ganancias</h1>
            <p class="subtitle">Cuarta Categor√≠a - Argentina 2026 (Enero-Junio)</p>
            <p class="subtitle-small">Valores oficiales AFIP/ARCA actualizados con IPC 11.73%</p>
        </header>

        <main>
            <section class="card">
                <h2>Datos Personales</h2>
                <form id="calculatorForm">
                    <div class="form-group">
                        <label for="sueldoBruto">Sueldo Bruto Mensual ($)</label>
                        <input type="number" id="sueldoBruto" name="sueldoBruto" required min="0" step="0.01" placeholder="Ej: 1500000">
                    </div>

                    <div class="form-group">
                        <label for="estadoCivil">Estado Civil</label>
                        <select id="estadoCivil" name="estadoCivil" required>
                            <option value="soltero">Soltero/a</option>
                            <option value="casado">Casado/a</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="cantidadHijos">Cantidad de Hijos</label>
                        <input type="number" id="cantidadHijos" name="cantidadHijos" required min="0" value="0">
                    </div>

                    <div class="form-group">
                        <h3>Deducciones Opcionales del Mes Actual</h3>
                        <p class="info-text">Ingres√° las deducciones que correspondan <strong>para el mes actual</strong> seg√∫n la Ley de Ganancias (Art. 94). Los topes son anuales.</p>

                        <!-- 1. Indumentaria Laboral / Equipamiento -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedIndumentariaLaboral" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Indumentaria Laboral / Equipamiento</span>
                                <span class="info-icon" title="100% de indumentaria de uso exclusivo laboral sin reintegro. Sin tope espec√≠fico.">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupIndumentariaLaboral">
                                <input type="number" id="montoIndumentariaLaboral" placeholder="Monto mensual" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>100%</strong> (uso exclusivo laboral)</small>
                                <small class="deduccion-tope">Sin tope espec√≠fico</small>
                            </div>
                        </div>

                        <!-- 2. Impuesto D√©bitos/Cr√©ditos -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedImpuestoDebitoCredito" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Impuesto D√©bitos/Cr√©ditos Bancarios</span>
                                <span class="info-icon" title="Se deduce el 33% del impuesto a d√©bitos/cr√©ditos bancarios pagado. Sin tope.">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupImpuestoDebitoCredito">
                                <input type="number" id="montoImpuestoDebitoCredito" placeholder="Impuesto mensual pagado" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>33%</strong> del impuesto pagado</small>
                                <small class="deduccion-tope">Sin tope</small>
                            </div>
                        </div>

                        <!-- 3. Servicio Dom√©stico -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedServicioDomestico" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Servicio Dom√©stico</span>
                                <span class="info-icon" title="100% de sueldos y contribuciones patronales de servicio dom√©stico. Tope anual: $4.375.752 (equivalente GNI).">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupServicioDomestico">
                                <input type="number" id="montoServicioDomestico" placeholder="Sueldo + contribuciones mensuales" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>100%</strong> (sueldos + contribuciones)</small>
                                <small class="deduccion-tope">Tope anual: <span id="topeServicioDomestico">$0</span></small>
                                <div class="advertencia hidden" id="advServicioDomestico"></div>
                            </div>
                        </div>

                        <!-- 4. Alquiler Inquilino -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedAlquilerInquilino" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Alquiler de vivienda (inquilino)</span>
                                <span class="info-icon" title="Se deduce el 40% del alquiler pagado con contrato registrado. Tope anual $4.375.752">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupAlquilerInquilino">
                                <input type="number" id="montoAlquilerInquilino" placeholder="Monto mensual pagado" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>40%</strong> del monto</small>
                                <small class="deduccion-tope">Tope anual: <span id="topeAlquilerInquilino">$0</span></small>
                                <div class="advertencia hidden" id="advAlquilerInquilino"></div>
                            </div>
                        </div>

                        <!-- 5. Gastos Educativos -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedGastosEducativos" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Gastos Educativos</span>
                                <span class="info-icon" title="40% de gastos educativos (cuotas, transporte, comedor, √∫tiles, uniformes) de hijos < 24 a√±os. Tope anual: $1.750.301">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupGastosEducativos">
                                <input type="number" id="montoGastosEducativos" placeholder="Monto mensual" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>40%</strong> del gasto (hijos menores de 24 a√±os)</small>
                                <small class="deduccion-tope">Tope anual: <span id="topeGastosEducativos">$0</span></small>
                                <div class="advertencia hidden" id="advGastosEducativos"></div>
                            </div>
                        </div>

                        <!-- 6. Seguro de Vida -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedSeguroVida" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Seguros de Vida</span>
                                <span class="info-icon" title="100% de primas de seguro de vida. Tope anual: $641.000 (independiente del seguro de retiro).">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupSeguroVida">
                                <input type="number" id="montoSeguroVida" placeholder="Prima mensual" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>100%</strong> de la prima</small>
                                <small class="deduccion-tope">Tope anual: <span id="topeSeguroVida">$0</span></small>
                                <div class="advertencia hidden" id="advSeguroVida"></div>
                            </div>
                        </div>

                        <!-- 7. Seguro de Retiro -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedSeguroRetiro" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Seguros de Retiro Privados</span>
                                <span class="info-icon" title="100% de primas de seguro de retiro. Tope anual: $641.000 (independiente del seguro de vida).">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupSeguroRetiro">
                                <input type="number" id="montoSeguroRetiro" placeholder="Prima mensual" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>100%</strong> de la prima</small>
                                <small class="deduccion-tope">Tope anual: <span id="topeSeguroRetiro">$0</span> (independiente)</small>
                                <div class="advertencia hidden" id="advSeguroRetiro"></div>
                            </div>
                        </div>

                        <!-- 8. Medicina Prepaga -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedMedicinaPrepaga" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Medicina Prepaga / Obra Social</span>
                                <span class="info-icon" title="100% de la cuota de prepaga. Tope conjunto con gastos m√©dicos: 5% de la ganancia neta anual.">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupMedicinaPrepaga">
                                <input type="number" id="montoMedicinaPrepaga" placeholder="Cuota mensual" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>100%</strong> de la cuota</small>
                                <small class="deduccion-tope">Tope: <strong>5%</strong> de ganancia neta anual (compartido con gastos m√©dicos)</small>
                                <div class="advertencia hidden" id="advMedicinaPrepaga"></div>
                            </div>
                        </div>

                        <!-- 9. Gastos M√©dicos -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedGastosMedicos" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Gastos M√©dicos (honorarios)</span>
                                <span class="info-icon" title="40% de honorarios m√©dicos sin reintegro. Excluye medicamentos. Tope conjunto con prepaga: 5% de ganancia neta anual.">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupGastosMedicos">
                                <input type="number" id="montoGastosMedicos" placeholder="Monto mensual facturado" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>40%</strong> del monto. NO incluye medicamentos</small>
                                <small class="deduccion-tope">Tope: <strong>5%</strong> de ganancia neta anual (compartido con prepaga)</small>
                                <div class="advertencia hidden" id="advGastosMedicos"></div>
                            </div>
                        </div>

                        <!-- 10. Donaciones -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedDonaciones" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Donaciones</span>
                                <span class="info-icon" title="100% de donaciones bancarizadas a entidades reconocidas. Tope: 5% de ganancia neta anual.">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupDonaciones">
                                <input type="number" id="montoDonaciones" placeholder="Monto mensual donado" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>100%</strong> (deben ser bancarizadas)</small>
                                <small class="deduccion-tope">Tope: <strong>5%</strong> de ganancia neta anual</small>
                                <div class="advertencia hidden" id="advDonaciones"></div>
                            </div>
                        </div>

                        <!-- 11. Intereses Hipotecarios -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedInteresesHipotecarios" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Intereses Hipotecarios</span>
                                <span class="info-icon" title="100% de intereses hipotecarios de casa habitaci√≥n. Tope anual: $20.000 (congelado).">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupInteresesHipotecarios">
                                <input type="number" id="montoInteresesHipotecarios" placeholder="Intereses mensuales" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>100%</strong> (solo casa habitaci√≥n)</small>
                                <small class="deduccion-tope">Tope anual: <span id="topeInteresesHipotecarios">$0</span> (congelado)</small>
                                <div class="advertencia hidden" id="advInteresesHipotecarios"></div>
                            </div>
                        </div>

                        <!-- 12. Alquiler con RELI -->
                        <div class="deduccion-predefinida">
                            <label>
                                <input type="checkbox" id="dedAlquilerReli" class="deduccion-checkbox">
                                <span class="deduccion-nombre">Alquiler con RELI</span>
                                <span class="info-icon" title="10% del alquiler para quienes est√©n inscriptos en RELI. Sin tope adicional.">‚ÑπÔ∏è</span>
                            </label>
                            <div class="deduccion-input-group hidden" id="groupAlquilerReli">
                                <input type="number" id="montoAlquilerReli" placeholder="Monto mensual" min="0" step="0.01">
                                <small class="deduccion-info">Se deduce el <strong>10%</strong> del monto</small>
                                <small class="deduccion-tope">Sin tope adicional</small>
                            </div>
                        </div>
                    </div>

                    <!-- Meses Anteriores del A√±o (F.572) -->
                    <div class="form-group">
                        <h3>Meses Anteriores del A√±o (Opcional)</h3>
                        <label class="checkbox-label">
                            <input type="checkbox" id="tieneMesesAnteriores">
                            <span>Tengo meses trabajados anteriores en el a√±o y quiero ver proyecci√≥n anual</span>
                        </label>

                        <div id="mesesAnterioresContainer" class="meses-anteriores-container hidden">
                            <!-- Opci√≥n para cargar F.572 -->
                            <div class="upload-f572-section">
                                <h4>üìÑ Cargar Deducciones desde F.572 (PDF) - Opcional</h4>
                                <p class="info-text-small">Sub√≠ tu declaraci√≥n F.572 en PDF para cargar autom√°ticamente el <strong>total de deducciones opcionales del a√±o</strong>. Los ingresos brutos siempre se ingresan manualmente.</p>

                                <div class="upload-container">
                                    <input type="file" id="fileF572" accept=".pdf" style="display: none;">
                                    <button type="button" class="btn-upload" onclick="document.getElementById('fileF572').click()">
                                        üì§ Seleccionar F.572 (PDF)
                                    </button>
                                    <span id="fileName" class="file-name"></span>
                                </div>

                                <div id="uploadStatus" class="upload-status hidden"></div>
                                <div id="topesAplicados" class="topes-aplicados hidden"></div>
                            </div>

                            <div class="separator-or">
                                <span>Datos Acumulados del A√±o</span>
                            </div>

                            <p class="info-text"><strong>Instrucciones:</strong> Ingres√° los totales acumulados de meses anteriores. Las deducciones opcionales pod√©s cargarlas desde el F.572 o ingresarlas manualmente.</p>

                            <div class="form-group-inline">
                                <div class="campo-acumulado">
                                    <label for="ingresosAcumulados">Ingresos Brutos Acumulados ($) <span class="obligatorio">*</span></label>
                                    <input type="number" id="ingresosAcumulados" placeholder="Ej: 5000000" min="0" step="0.01">
                                    <small class="info-text-small">Suma de todos los sueldos brutos de meses anteriores</small>
                                </div>

                                <div class="campo-acumulado">
                                    <label for="deduccionesAcumuladas">Deducciones Opcionales Acumuladas ($)</label>
                                    <input type="number" id="deduccionesAcumuladas" placeholder="Ej: 450000" min="0" step="0.01">
                                    <small class="info-text-small">Total de deducciones opcionales ya aplicadas (se carga desde F.572 o manual)</small>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="impuestoRetenidoAcumulado">Impuesto Ya Retenido Acumulado ($)</label>
                                <input type="number" id="impuestoRetenidoAcumulado" placeholder="Ej: 125000" min="0" step="0.01">
                                <small class="info-text-small">Total de impuesto a las ganancias ya retenido en recibos de meses anteriores (opcional, mejora la precisi√≥n)</small>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn-primary">Calcular Impuesto</button>
                </form>
            </section>

            <section id="resultados" class="card hidden">
                <h2>Resultados del C√°lculo</h2>

                <div class="resultado-resumen">
                    <div class="resumen-item-simple">
                        <span class="label">Sueldo Bruto Mensual:</span>
                        <span class="valor" id="resSueldoBruto">$0</span>
                    </div>
                </div>

                <div class="impuesto-destacado">
                    <div class="impuesto-card">
                        <h3>Retenci√≥n Mensual de Ganancias</h3>
                        <div class="impuesto-valor" id="resImpuestoMensual">$0</div>
                        <div class="impuesto-porcentaje">
                            <span id="resPorcentaje">0%</span> del sueldo bruto
                        </div>
                    </div>
                    <div class="impuesto-card">
                        <h3>Impuesto Anual Estimado</h3>
                        <div class="impuesto-valor" id="resImpuestoAnual">$0</div>
                        <div class="impuesto-info">
                            <small>C√°lculo basado en 12 meses</small>
                        </div>
                    </div>
                </div>

                <!-- Proyecci√≥n Anual (solo si hay meses anteriores) -->
                <div id="proyeccionAnualSection" class="proyeccion-anual-section hidden">
                    <h2 class="seccion-title">Proyecci√≥n Anual Completa</h2>

                    <div class="proyeccion-cards">
                        <div class="proyeccion-card">
                            <h4>Impuesto Anual Real</h4>
                            <div class="proyeccion-valor" id="resImpuestoAnualReal">$0</div>
                            <small>Basado en ingresos del a√±o completo</small>
                        </div>

                        <div class="proyeccion-card">
                            <h4>Ya Retenido (Estimado)</h4>
                            <div class="proyeccion-valor" id="resImpuestoYaRetenido">$0</div>
                            <small>Retenciones de meses anteriores</small>
                        </div>

                        <div class="proyeccion-card diferencia-card" id="diferenciaCard">
                            <h4>Diferencia</h4>
                            <div class="proyeccion-valor grande" id="resDiferencia">$0</div>
                            <div class="diferencia-tipo" id="resDiferenciaTipo"></div>
                        </div>
                    </div>

                    <div class="sugerencia-ajuste-card">
                        <h4>Sugerencia para los <span id="mesesRestantes">0</span> meses restantes:</h4>
                        <div class="sugerencia-content">
                            <div class="sugerencia-item">
                                <span class="label">Retenci√≥n mensual sugerida:</span>
                                <span class="valor destacado" id="resRetencionSugerida">$0</span>
                            </div>
                            <div class="sugerencia-item">
                                <span class="label">Retenci√≥n actual:</span>
                                <span class="valor" id="resRetencionActual">$0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="detalle-accordion">
                    <button class="accordion" onclick="toggleAccordion(this)">
                        <span>Deducciones Personales</span>
                        <span class="arrow">‚ñº</span>
                    </button>
                    <div class="panel">
                        <div id="detalleDeducciones"></div>
                    </div>
                </div>

                <div class="detalle-accordion" id="deduccionesOpcionalesSection" style="display: none;">
                    <button class="accordion" onclick="toggleAccordion(this)">
                        <span>Deducciones Opcionales Aplicadas</span>
                        <span class="arrow">‚ñº</span>
                    </button>
                    <div class="panel">
                        <div id="detalleDeduccionesOpcionales"></div>
                    </div>
                </div>

                <div class="detalle-accordion">
                    <button class="accordion" onclick="toggleAccordion(this)">
                        <span>Escala Progresiva Aplicada</span>
                        <span class="arrow">‚ñº</span>
                    </button>
                    <div class="panel">
                        <div id="detalleEscalas"></div>
                    </div>
                </div>

                <!-- Resumen Mes por Mes (solo si hay meses anteriores) -->
                <div class="detalle-accordion" id="resumenMensualSection" style="display: none;">
                    <button class="accordion" onclick="toggleAccordion(this)">
                        <span>Resumen Mes por Mes</span>
                        <span class="arrow">‚ñº</span>
                    </button>
                    <div class="panel">
                        <div id="detalleResumenMensual"></div>
                    </div>
                </div>

                <div id="mensaje" class="mensaje-info"></div>
            </section>
        </main>

        <footer>
            <p><strong>Importante:</strong> Esta calculadora es orientativa. Los valores deben ser confirmados con un contador matriculado.</p>
            <p>Datos actualizados para Enero-Junio 2026 seg√∫n valores oficiales AFIP/ARCA (IPC 11.73%)</p>
        </footer>
    </div>

    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
